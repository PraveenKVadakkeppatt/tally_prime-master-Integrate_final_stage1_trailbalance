

    {% extends 'base.html' %}
    {% block body %}
        {% load static %}
        <style>
            .flexy{
                display: flex;
                align-items: center;
                justify-content: center;
            }
        .form1{
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: absolute;
            
        }
        form{
            padding:30px;
        }
        .close {
            position: absolute;
            top: 3px;
            right: 8px;
            font-size: 25px;
            color: rgb(255, 255, 255);
            transform: rotate(45deg);
            cursor: pointer;
            text-decoration: none;
            
        }
        .back{
            background-color:rgba(0,0,0,0.4);
            color: white;

        }
        btns:hover{
            background-color:rgba(225,225,225,0.4);
            color:black;
        }
        button{
            background-color:rgb(103, 175, 220) ;
            color:white;
            padding:10px 20px;
        }
        .tr1:hover{
            background:  rgb(202, 202, 13);
        }
        a:hover{
            color: black;
        }
    </style>

<div class="row container-fluid p-0 mx-0" >
    <div class="col-sm-1 m-0  p-0"></div>
    <div class="col-sm-10 m-0 p-0" style=" width: 100%; background-color:rgba(0,0,0,0.2);" >
   <!--     <a href="javascript:history.go(-1);" class="close">+</a> -->
   



        <div>
            <h6  class="bg-info text-light m-0 p-2">Ledger Voucher</h6>
            <div class="row container-fluid p-3 m-0 back">
        
            <div class="col-sm-2   m-0 p-0 d-flex">
                <p>Ledger : {{ vch.iparticular }}</p>
                <h6></h6>
            </div>
            <div class="col-sm-8   m-0 p-0"></div>
            <div class="col-sm-2   m-0 p-0">
                <h6> 1-Apr-22 to 30-Apr-22</h6>
            </div>

            </div>

            <div style="overflow: scroll ;max-height: 70vh; width: 100%;background-color:rgba(0,0,0,0.4); ">
                <table  class="table " style="background-color: rgba(33,57,77,255);color:#fff; " border="1" id="tb1">
                    <tr >
                        
                        
                        <th>     <table   style="width: 100%;"  id="table">
                            <thead>
                    <tr style="text-align: center;">
                        <th scope="col">Date </th>
                       
                       
                        <th scope="col">Particulers</th>
                        <th scope="col">Vch Type </th>
                        <th scope="col">Vch No </th>
                        <th>Debit</th>
                        <th>Credit</th>
                        
                    </tr>
                </thead>
                <tbody>

                      

                     
                       
                      <tr  style="text-align: center;" class="tr1" >

                          <td scope="row">{{ vch.ivdate }}</td>
                          
                          <td class=" dropdown " >{{ vch.iaccount }}

                        
                          </td>
                          <td scope="row">{{ vch.ivouchertype }}</td>
                          <td scope="row">{{ vch.ivoucherno }}</td>
                          <td scope="row">{{ vch.idebit }}Dr</td>
                          <td scope="row">{{ vch.icredit }}</td>
                          <td>

                              
                          </td>

                   
                   
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                       
                      </tr>
                      <tr >
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>Opening Balance :<br>current Total : <br><b>Closing Balance :</b></td>
                        
                        
                        <td scope="row" style="text-align: center;"><br>{{ sum2 }}Dr<br><b>{{ cltot }}Dr</b></td>
                        <td style="text-align: center;">{{ sum3 }}Cr<br><br><b>{{ sum1 }}Cr</b></td>
                      </tr>
                   
                      
                      
                      
                     
                      

                    </tbody>
                </table>
            </th>
              
              

                </table>


            </div>
       
        </div> 
    </div></div>
    <br><br>
    <div class="bottom text-center d-flex justify-content-between">
        <button class="btn border"><a href="{% url 'trialbalance' %}">QUIT</a></button>
        
        <button type="button" class="btn border" onclick="myFunction()">SELECT</button>
       
        <button class="btn border">DELETE</button>
        <button class="btn border"  onclick="removeSelectedRow()">REMOVE LINE</button>
        <button class="btn border"><a href="{% url 'cledgervoucher' vch.id  %}">RESTORE LINE</a></button>
    </div>
    <script>
        $(document).ready(function($) {
            $(".table-row").dblclick(function() {
                window.document.location = $(this).data("href");
            });
        });
    </script>
    <script>
                
        var index;  // variable to set the selected row index
        function getSelectedRow()
        {
            var table = document.getElementById("table");
            for(var i = 1; i < table.rows.length; i++)
            {
                table.rows[i].onclick = function()
                {
                    // clear the selected from the previous selected row
                    // the first time index is undefined
                    if(typeof index !== "undefined"){
                        table.rows[index].classList.toggle("selected");
                    }
                   
                    index = this.rowIndex;
                    this.classList.toggle("selected");
    
                };
            }
                
        }
    
    
        getSelectedRow();
    
        
    
        
        
        
        
    </script>
    
    <script>
    
       
    function myFunction() {
     var se = document.getElementsByClassName('selected');
     se[0].style.backgroundColor = "lightblue";
        
    }
        </script>
    
    
    <!-- <script>
            
            var rIndex,
                table = document.getElementById("table");
            
            
            function selectedRowToInput()
            {
                
                for(var i = 1; i < table.rows.length; i++)
                {
                    table.rows[i].onclick = function()
                    {
                      // get the seected row index
                      rIndex = this.rowIndex;
                      this.classList.toggle("selected");
                    
                    };
                }
            }
            selectedRowToInput();
            
            
            
            function removeSelectedRow()
            {
                table.deleteRow(rIndex);
                
            }
        </script> -->
    
    <script>
    function removeSelectedRow()
            {
                table.deleteRow(index);
                
            }
    </script>
    {% endblock %}
    
   
